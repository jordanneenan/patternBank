function loadValues(t,e,a){var o=$(t).css(e);$(a).val(o).attr("data-default",o)}function applyChanges(){function t(t,o,r){if(e($(t))){var l=$(t).val(),i=o+"{"+r+": "+l+";}";a+=i}}function e(t){var e=t.attr("data-default"),a=t.val();return e!==a?!0:void 0}var a="";if(t(".form_layout-width",".global_container","max-width"),t(".form_layout-row",".row","max-width"),t(".form_layout-content",".content_container","max-width"),t(".p_size","p","font-size"),t(".p_size","li","font-size"),t(".p_l_height","p","line-height"),t(".p_l_height","li","line-height"),t(".space_b","p","margin-top"),t(".space_a","p","margin-bottom"),e($(".form_primary"))){var o=$(".form_primary").val();primStyles=".palette.primary .color>div {background-color:"+o+";}",primStyles+=".palette.primary .color.shadow>div {background-color:"+shadeColor(o,-10)+";}",primStyles+=".palette.primary .color.highlight>div {background-color:"+shadeColor(o,10)+";}",primStyles+="a {color:"+o+";}",primStyles+="a:hover {color:"+shadeColor(o,-10)+";}",a+=primStyles}if(e($(".form_secondary"))){var r=$(".form_secondary").val();secStyles=".palette.secondary .color>div {background-color:"+r+";}",secStyles+=".palette.secondary .color.shadow>div {background-color:"+shadeColor(r,-10)+";}",secStyles+=".palette.secondary .color.highlight>div {background-color:"+shadeColor(r,10)+";}",a+=secStyles}if(e($(".form_tertiary"))){var l=$(".form_tertiary").val();terStyles=".palette.tertiary .color>div {background-color:"+l+";}",terStyles+=".palette.tertiary .color.shadow>div {background-color:"+shadeColor(l,-10)+";}",terStyles+=".palette.tertiary .color.highlight>div {background-color:"+shadeColor(l,10)+";}",a+=terStyles}$(".editor_style style").html(a)}function shadeColor(t,e){var a=parseInt(t.substring(1,3),16),o=parseInt(t.substring(3,5),16),r=parseInt(t.substring(5,7),16);a=parseInt(a*(100+e)/100),o=parseInt(o*(100+e)/100),r=parseInt(r*(100+e)/100),a=255>a?a:255,o=255>o?o:255,r=255>r?r:255;var l=1==a.toString(16).length?"0"+a.toString(16):a.toString(16),i=1==o.toString(16).length?"0"+o.toString(16):o.toString(16),s=1==r.toString(16).length?"0"+r.toString(16):r.toString(16);return"#"+l+i+s}function rgb2hex(t){function e(t){return("0"+parseInt(t).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(t)?t:(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+e(t[1])+e(t[2])+e(t[3]))}$(document).ready(function(){$(".open_editor").click(function(){$(".editor").hasClass("active")?$(".editor").removeClass("active"):$(".editor").addClass("active")}),$(".close_editor").click(function(){$(".editor").removeClass("active")}),$(".edit_section_title").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).next().slideUp(),$(".save_field").removeClass("active").slideUp()):($(".collapse").slideUp(),$(".edit_section_title").removeClass("active"),$(this).addClass("active").next().slideDown(),$(".save_field").removeClass("active").slideUp(),$(".load_container").removeClass("active").slideUp(),$(".save_message").fadeOut(function(){$(this).html("")}))}),$(".apply").click(function(){applyChanges()}),$("html").hide(),loadValues(".global_container","maxWidth",".form_layout-width"),loadValues(".row","maxWidth",".form_layout-row"),loadValues(".content_container","maxWidth",".form_layout-content"),loadValues("p","font-size",".p_size"),loadValues("p","line-height",".p_l_height"),loadValues("p","margin-top",".space_b"),loadValues("p","margin-bottom",".space_a"),$("html").show();var t=$(".palette.primary .color>div").css("background-color");t=rgb2hex(t),$(".form_primary").val(t).attr("data-default",t);var e=$(".palette.secondary .color>div").css("background-color");e=rgb2hex(e),$(".form_secondary").val(e).attr("data-default",e);var a=$(".palette.tertiary .color>div").css("background-color");a=rgb2hex(a),$(".form_tertiary").val(a).attr("data-default",a)});