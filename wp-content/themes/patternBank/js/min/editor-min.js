function applyChanges(){function r(r){var t=r.attr("data-default"),e=r.val();return t!==e?!0:void 0}var t="";if(r($(".form_primary"))){var e=$(".form_primary").val();primStyles=".palette.primary .color>div {background-color:"+e+";}",primStyles+=".palette.primary .color.shadow>div {background-color:"+shadeColor(e,-10)+";}",primStyles+=".palette.primary .color.highlight>div {background-color:"+shadeColor(e,10)+";}",primStyles+="a {color:"+e+";}",primStyles+="a:hover {color:"+shadeColor(e,-10)+";}",t+=primStyles}if(r($(".form_secondary"))){var a=$(".form_secondary").val();secStyles=".palette.secondary .color>div {background-color:"+a+";}",secStyles+=".palette.secondary .color.shadow>div {background-color:"+shadeColor(a,-10)+";}",secStyles+=".palette.secondary .color.highlight>div {background-color:"+shadeColor(a,10)+";}",t+=secStyles}if(r($(".form_tertiary"))){var o=$(".form_tertiary").val();terStyles=".palette.tertiary .color>div {background-color:"+o+";}",terStyles+=".palette.tertiary .color.shadow>div {background-color:"+shadeColor(o,-10)+";}",terStyles+=".palette.tertiary .color.highlight>div {background-color:"+shadeColor(o,10)+";}",t+=terStyles}if(r($(".p_size"))){var l=$(".p_size").val();pStyle="p {font-size:"+l+";}",pStyle+="li {font-size:"+l+";}",t+=pStyle}if(r($(".p_l_height"))){var i=$(".p_l_height").val();pLHStyle="p {line-height:"+i+";}",pLHStyle+="li {line-height:"+i+";}",t+=pLHStyle}if(r($(".space_b"))){var s=$(".space_b").val();pMtStyle="p {margin-top:"+s+" !important;}",t+=pMtStyle}if(r($(".space_a"))){var c=$(".space_a").val();pMbStyle="p {margin-bottom:"+c+" !important;}",t+=pMbStyle}$(".editor_style style").html(t)}function shadeColor(r,t){var e=parseInt(r.substring(1,3),16),a=parseInt(r.substring(3,5),16),o=parseInt(r.substring(5,7),16);e=parseInt(e*(100+t)/100),a=parseInt(a*(100+t)/100),o=parseInt(o*(100+t)/100),e=255>e?e:255,a=255>a?a:255,o=255>o?o:255;var l=1==e.toString(16).length?"0"+e.toString(16):e.toString(16),i=1==a.toString(16).length?"0"+a.toString(16):a.toString(16),s=1==o.toString(16).length?"0"+o.toString(16):o.toString(16);return"#"+l+i+s}function rgb2hex(r){function t(r){return("0"+parseInt(r).toString(16)).slice(-2)}return/^#[0-9A-F]{6}$/i.test(r)?r:(r=r.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+t(r[1])+t(r[2])+t(r[3]))}$(document).ready(function(){$(".open_editor").click(function(){$(".editor").hasClass("active")?$(".editor").removeClass("active"):$(".editor").addClass("active")}),$(".close_editor").click(function(){$(".editor").removeClass("active")}),$(".edit_section_title").click(function(){$(".collapse").slideUp(),$(this).next().slideDown()}),$(".apply").click(function(){applyChanges()});var r=$(".palette.primary .color>div").css("background-color");r=rgb2hex(r),$(".form_primary").val(r).attr("data-default",r),$(".form_primary").spectrum({color:r,preferredFormat:"hex",showInput:!0});var t=$(".palette.secondary .color>div").css("background-color");t=rgb2hex(t),$(".form_secondary").val(t).attr("data-default",t),$(".form_secondary").spectrum({color:t,preferredFormat:"hex",showInput:!0});var e=$(".palette.tertiary .color>div").css("background-color");e=rgb2hex(e),$(".form_tertiary").val(e).attr("data-default",e),$(".form_tertiary").spectrum({color:e,preferredFormat:"hex",showInput:!0});var a=$("p").css("font-size");$(".p_size").val(a).attr("data-pSize",a);var o=$("p").css("line-height");$(".p_l_height").val(o).attr("data-pHeight",o);var l=$("p").css("margin-top");$(".space_b").val(l).attr("data-pMarginTop",l);var i=$("p").css("margin-bottom");$(".space_a").val(i).attr("data-pMarginBottom",i)});